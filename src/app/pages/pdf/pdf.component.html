<!-- <div class="container">
  <div class="file-container">
    @if(!addFile){
    <div class="file-upload-wrapper">
      <label for="fileInput" class="file-upload-label">
        Escolher Arquivo
      </label>
      <input
        value="Escolher Arquivo"
        type="file"
        id="fileInput"
        #fileInput
        (change)="onFileChange($event)"
        accept="application/pdf"
        multiple
      />
    </div>
    } @else if (addFile) {
    <div class="file-upload-wrapper">
      <label for="fileInput" class="file-upload-label">
        Adicionar mais Arquivos
      </label>
      <input
        value="Escolher Arquivo"
        type="file"
        id="addfileInput"
        #fileInput
        (change)="onFileChange($event)"
        accept="application/pdf"
        multiple
      />
    </div>
    }

    <div class="button-group"> 

      <select
        name="save"
        id="save"
        class="btn btn-download"
        (change)="onSelectChange($event)"
      >
        <option value="download">Baixa</option>
        <option value="download-separately">Baixa Separado</option>
      </select>
      <button class="btn btn-clear" id="clearBtn" (click)="clearFile()">
        Limpar
      </button>
    </div>
  </div>
  <div #pagesContainer class="pages-container"></div>
</div> -->

<!-- <div class="container">
  <input #fileInput type="file" (change)="onFileChange($event)" accept="application/pdf" />

  <div class="actions">
    <button (click)="salvarNovoPDF()">‚¨áÔ∏è Baixar PDF</button>
    <button (click)="clearFile()" >üóëÔ∏è Limpar</button>
     [disabled]="!pdfDoc"
  </div>
  <div #pagesContainer class="pages-container"></div>
<canvas #canvasVisualizacao></canvas>
<div #pagesContainer class="pdf-pages-grid"></div> 
<button (click)="mostrarPagina(1)">Mostrar P√°gina 1</button>

  <div class="modal" *ngIf="showModal" (click)="fecharModal()">
    <canvas #modalCanvas></canvas>
  </div>
</div> -->

<div class="container">
  <div class="container-file-upload" *ngIf="!addFile">
    <div class="folder">
      <div class="top"></div>
      <div class="bottom"></div>
    </div>
    <label class="custom-file-upload">
      <input
        class="title"
        type="file"
        id="fileInput"
        (change)="onFileChange($event)"
        accept="application/pdf"
        multiple
      />
      Escolher Arquivo
    </label>
  </div>

  <div
    class="pages-container"
    #pagesContainer
    [ngStyle]="{ 'margin-right': addFile ? '200px' : '0' }"
    *ngIf="!loading"
    cdkDropList
    (cdkDropListDropped)="drop($event)"
    [cdkDropListSortingDisabled]="false"
  >
    <div
      *ngFor="let page of pages"
      class="page-card"
      cdkDrag
      [ngClass]="{ excluded: !page.checked }"
    >
      <!-- <div class="drag-handle" cdkDragHandle>‚ÜïÔ∏è</div> -->
      <img [src]="page.canvasImg" alt="Preview da p√°gina" class="page-pdf" />
      <ng-template cdkDragPreview>
        <img [src]="page.canvasImg" class="page-pdf preview-img" />
      </ng-template>
      <div class="page-actions">
        <button class="btn-view" (click)="viewPdf(page.id)">
          üëÅÔ∏è Visualizar
        </button>
        <button
          (click)="remove_undo(page.id)"
          [ngClass]="{ 'btn-delete': page.checked, 'btn-undo': !page.checked }"
        >
          {{ page.checked ? "‚ùå Remover" : "‚óÄ Desfazer" }}
        </button>
      </div>
    </div>
  </div>
  <div class="options" *ngIf="addFile" [ngClass]="{ show: !loading }">
    <button class="container-btn-file">
      <svg
        class="w-6 h-6 text-gray-800 dark:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M18 9V4a1 1 0 0 0-1-1H8.914a1 1 0 0 0-.707.293L4.293 7.207A1 1 0 0 0 4 7.914V20a1 1 0 0 0 1 1h4M9 3v4a1 1 0 0 1-1 1H4m11 6v4m-2-2h4m3 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"
        />
      </svg>

      <label for=""> Adicionar Arquivo </label>

      <input
        class="title"
        type="file"
        id="fileInput"
        (change)="onFileChange($event)"
        accept="application/pdf"
        multiple
      />
      <!-- <input class="file" name="text" type="file" /> -->
    </button>

    <button class="container-btn-file" (click)="onSelectChange('download')">
      <svg
        class="w-6 h-6 text-gray-800 dark:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 13V4M7 14H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2m-1-5-4 5-4-5m9 8h.01"
        />
      </svg>
      <label for="">Baixar PDF</label>
    </button>

    <button
      class="container-btn-file"
      (click)="onSelectChange('download-separately')"
    >
      <svg
        class="w-6 h-6 text-gray-800 dark:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 13V4M7 14H5a1 1 0 0 0-1 1v4a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1h-2m-1-5-4 5-4-5m9 8h.01"
        />
      </svg>
      <label for="">Baixar Separadamente</label>
    </button>

    <button
      class="btn-clear container-btn-file"
      id="clearBtn"
      (click)="clearFile()"
    >
      <svg
        class="w-6 h-6 text-gray-800 dark:text-white"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 5v14m-6-8h6m-6 4h6m4.506-1.494L15.012 12m0 0 1.506-1.506M15.012 12l1.506 1.506M15.012 12l-1.506-1.506M20 19H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1Z"
        />
      </svg>

      <label for="">Limpar</label>
    </button>
  </div>

  <!-- <div class="options" *ngIf="addFile" [ngClass]="{ show: !loading }">
    <select
      name="save"
      id="save"
      class="btn btn-download"
      (change)="onSelectChange($event)"
    >
      <option value="download">Baixar</option>
      <option value="download-separately">Baixar Separadamente</option>
    </select>
    <input
      class="title"
      type="file"
      id="fileInput"
      (change)="onFileChange($event)"
      accept="application/pdf"
      multiple
    />
    <button class="btn btn-clear" id="clearBtn" (click)="clearFile()">
      Limpar
    </button>
  </div> -->
</div>
<app-loading-cap *ngIf="loading" />
<view-page-pdf
  [visible]="showModal"
  [canvasImg]="canvasImg"
  (close)="closeModalPagePdf()"
/>
